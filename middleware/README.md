##### 中间层架构，优化前端


```shell
node app.js
localhost:3600
````
为什么在前段和后台请求中多加一个中间层会优化呢？不是还会多增加一个请求过程吗？
- 服务器之间的请求很快
- 有些前段请求是直接从redis中取，不用从后端数据库中查询请求数据

怎样redis和后端的数据保持同步呢？（两种方案）
- app启动的时候；发一串哈希资源标识符，包含每个页面的现在的资源标识符，后端判断是否最新的，如果不是那么调用方法去更新一下redis
- 建立tcp连接与后端进行通讯；后端一旦发生改变，那么就通过这个tcp连接去告诉前段更新redis，那么modle拿数据的时候就直接从redis中拿

redis是一个缓存数据库，拿数据有三种来源：
- 从内存中拿（最快）
- 从硬盘上拿（读取文件；比内存中拿稍微慢；从redis中拿数据就类似这种）
- 从网络请求拿数据（最慢；因为除了上面两种要话的时间之外它还有一个网络连接的时间）

- V8引擎内存1.4G左右
- redis内存可以自己设置只要不超过自己的设置就行
- redis可以跨进程的；也就是可以跨进程共享
